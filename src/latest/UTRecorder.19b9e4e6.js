import{a as e,p as t,_ as s,T as n}from"./preact.3d326435.js";import{c3 as r,l as a,u as l,c4 as o,c5 as i,c6 as c,c7 as u,c8 as d,c9 as p,K as m,M as y,bz as f,ca as h,cb as T,cc as g,cd as $,ce as b,cf as w}from"./index.9148933a.js";import{I as x}from"./Input.bee63c02.js";import{A as v}from"./ActionButton.02df805a.js";import"./audio.1ae45449.js";import"./env.1ef38fce.js";let pane="B4n1sv",close="B4n2zb",hide="B4n19b",show=r+" B4n1we",stroke="B4nyj",paneHidden="B4n1sv B4n35r",step="B4npz",reminder="B4n137",center="B4n16",headerAlone="B4n1p4",button=a+" B4n1ga",taskComplete=a+" B4n1ga B4n2w3",optional=a+" B4n1ga B4n1wk",confirmCompletion="B4nmp",icon="B4nv1",__default={pane:"B4n1sv",close:"B4n2zb",hide:"B4n19b",show:r+" B4n1we",stroke:"B4nyj",paneHidden:"B4n1sv B4n35r",step:"B4npz",reminder:"B4n137",center:"B4n16",headerAlone:"B4n1p4",button:a+" B4n1ga",taskComplete:a+" B4n1ga B4n2w3",optional:a+" B4n1ga B4n1wk",confirmCompletion:"B4nmp",icon:"B4nv1"};var styles=__default;let ruText$b={close:"╨ù╨░╨║╤Ç╤ï╤é╤î",farewell:"╨í╨┐╨░╤ü╨╕╨▒╨╛!##╨í╨┐╨░╤ü╨╕╨▒╨╛ ╨▓╨░╨╝ ╨╖╨░ ╨┐╨╛╨╝╨╛╤ë╤î ╨▓ ╤â╨╗╤â╤ç╤ê╨╡╨╜╨╕╨╕ ╨╜╨░╤ê╨╡╨│╨╛ ╤ü╨░╨╣╤é╨░."},enText$b={close:"Close",farewell:"Thank you!##Thank you for helping us in the improvement of our site."},localizedInterface$b=e=>"ru"===e?ruText$b:enText$b;function UTFarewell(){let{dispatch:t,ut:s}=l("ut"),n=localizedInterface$b(s.script.locale),r=s.script.farewell||n.farewell,[a,i]=r.split("##");return e("div",{className:styles.step,id:"usertests-step-farewell"},a&&e("h1",null,a),i&&e("p",null,i),e("button",{className:styles.button,onClick:()=>t("ut/stage",{stage:o})},n.close))}let ruText$a={close:"╨ù╨░╨║╤Ç╤ï╤é╤î",farewell:"╨í╨┐╨░╤ü╨╕╨▒╨╛!##╨Ü ╤ü╨╛╨╢╨░╨╗╨╡╨╜╨╕╤Ä ╨┤╨╗╤Å ╤â╤ç╨░╤ü╤é╨╕╤Å ╨▓ ╨╕╤ü╤ü╨╗╨╡╨┤╨╛╨▓╨░╨╜╨╕╨╕ ╨╜╨░╨╝ ╨╜╤â╨╢╨╜╤ï ╤é╨╛╨╗╤î╨║╨╛ ╤é╨╡ ╨┐╨╛╨╗╤î╨╖╨╛╨▓╨░╤é╨╡╨╗╨╕ ╨║╨╛╤é╨╛╤Ç╤ï╨╡ ╨╛╤é╨▓╨╡╤é╨╕╨╗╨╕ ╨╜╨░ ╨▓╤ü╨╡ ╨▓╨╛╨┐╤Ç╨╛╤ü╤ï ╨┐╨╛╨╗╨╛╨╢╨╕╤é╨╡╨╗╤î╨╜╨╛."},enText$a={close:"Close",farewell:"Thank you!##For testing we need the users who answered positively to all the questions."},localizedInterface$a=e=>"ru"===e?ruText$a:enText$a;function UTFarewellNotChosen(){let{dispatch:t,ut:s}=l("ut"),n=localizedInterface$a(s.script.locale),r=s.script.farewellNotChosen||n.farewell,[a,i]=r.split("##");return e("div",{className:styles.step,id:"usertests-step-not-chosen"},a&&e("h1",null,a),i&&e("p",null,i),e("button",{className:styles.button,onClick:()=>t("ut/stage",{stage:o})},n.close))}function IconOpenArrow(t){let{styles:{icon:s,stroke:n}}=t;return e("svg",{width:10,height:10,viewBox:"0 -3 10 10",className:s},e("path",{d:"M1 -2l4 4 4-4M1 2l4 4 4-4",className:n}))}let ruText$9={basicInstruction:"╨ù╨░╨┤╨░╨╜╨╕╨╡##╨ƒ╤Ç╨╛╨▒╨╡╨│╨╕╤é╨╡╤ü╤î ╨┐╨╛ ╤ü╨░╨╣╤é╤â, ╨┐╨╛╨┤╨╡╨╗╨╕╤é╨╡╤ü╤î ╤ü╨▓╨╛╨╕╨╝╨╕ ╨▓╨┐╨╡╤ç╨░╤é╨╗╨╡╨╜╨╕╤Å╨╝╨╕.",aloud:"╨ö╤â╨╝╨░╨╣╤é╨╡ ╨▓╤ü╨╗╤â╤à! ╨£╨╕╨║╤Ç╨╛╤ä╨╛╨╜ ╨╖╨░╨┐╨╕╤ê╨╡╤é ╨▓╨░╤ê╨╕ ╨╝╤ï╤ü╨╗╨╕.",maximize:"╨₧╤é╨║╤Ç╤ï╤é╤î ╨╖╨░╨┤╨░╨╜╨╕╨╡",minimize:"╨í╨▓╨╡╤Ç╨╜╤â╤é╤î",finishTask:"╨ù╨░╨▓╨╡╤Ç╤ê╨╕╤é╤î ╨╖╨░╨┤╨░╨╜╨╕╨╡",didComplete:"╨Æ╤ï ╨▓╤ï╨┐╨╛╨╗╨╜╨╕╨╗╨╕ ╨╖╨░╨┤╨░╨╜╨╕╨╡?",yes:"╨ö╨░",no:"╨¥╨╡╤é"},enText$9={basicInstruction:"Instructions##Please take a look around and tell us what you think.",aloud:"Think aloud! User study is recording",maximize:"Click here to see your task",minimize:"Minimize",finishTask:"Finish the task",didComplete:"Did you complete the task?",yes:"Yes",no:"No"},localizedInterface$9=e=>"ru"===e?ruText$9:enText$9;function UTInstructions(s){let{toggle:n,isHidden:r}=s,{dispatch:a,ut:o}=l("ut"),[d,p]=t(!1),m=localizedInterface$9(o.script.locale),y=o.steps[i]||0,f=y<o.script.instructions.length-1?{stage:i,step:y+1}:{stage:o.script.survey&&o.script.survey.length>0?c:u},h=o.script.instructions[y]||m.basicInstruction,[T,g]=h.split("##"),$=()=>{p(!1),a("ut/stage",f)};return r?e("div",{className:styles.step,id:"usertests-step-instructions"},e("h1",{className:styles.reminder},m.aloud),e("button",{className:styles.show,onClick:n},m.maximize,e(IconOpenArrow,{styles}))):e("div",{className:styles.step,id:"usertests-step-instructions"},e("button",{className:styles.hide,onClick:n},e(IconOpenArrow,{styles}),m.minimize),T&&e("h1",null,T),g&&e("p",{dangerouslySetInnerHTML:{__html:g}}),d?e("div",{className:styles.confirmCompletion},e("p",null,m.didComplete),e("button",{className:styles.optional,onClick:$},m.yes),e("button",{className:styles.optional,onClick:()=>p(!1)},m.no)):e("div",null,e("button",{className:styles.taskComplete,onClick:()=>p(!0)},m.finishTask)))}let ruText$8={yes:"╨ö╨░",no:"╨¥╨╡╤é"},enText$8={yes:"Yes",no:"No"},localizedInterface$8=e=>"ru"===e?ruText$8:enText$8;function UTQuestions(){let{dispatch:t,ut:s}=l("user","ut"),n=localizedInterface$8(s.script.locale),r=s.steps[d],a={stage:d,step:r+1},o={stage:p},[i,c]=s.script.questions[r].split("##");return e("div",{className:styles.step,id:"usertests-step-questions"},i&&e("h1",null,i),c&&e("p",null,c),e("button",{className:styles.button,onClick:()=>t("ut/stage",a)},n.yes),e("button",{className:styles.button,onClick:()=>t("ut/stage",o)},n.no))}let ruText$7={start:"╨¥╨░╤ç╨░╤é╤î"},enText$7={start:"Start"},localizedInterface$7=e=>"ru"===e?ruText$7:enText$7;function UTIntro(){let{dispatch:t,ut:s}=l("user","ut"),n=localizedInterface$7(s.script.locale),r=s.script.intro,[a,o]=r.split("##"),i=()=>t("ut/stage",{stage:d,step:0});return e("div",{className:styles.step,id:"usertests-step-intro"},a&&e("h1",null,a),o&&e("p",null,o),e("button",{className:styles.button,onClick:i},n.start))}let ruText$6={submit:"╨ö╨░╨╗╨╡╨╡"},enText$6={submit:"Submit"},localizedInterface$6=e=>"ru"===e?ruText$6:enText$6;function UTEmailRequest(){let{dispatch:n,ut:r}=l("ut"),a=s(),[o,i]=t(null),c=r.script.emailRequest,[u,d]=c.split("##"),p=async e=>{e.preventDefault();let t=a.current;try{y([{field:t,validator:f}]),this.setState(null),n("ut/email",t.value)}catch(e){i(e)}},h=localizedInterface$6(r.script.locale);return e("div",{className:styles.step,id:"usertests-step-email"},u&&e("h1",null,u),d&&e("p",null,d),e("form",{noValidate:!0,className:styles.form,onSubmit:p,action:""},e(m,{error:o,errorMessage:o&&o.reasons&&o.reasons.email}),e(x,{type:"email",ref:a,name:"email",error:null}),e("button",{className:styles.button},h.submit)))}let ruText$5={needApproval:"╨¥╨░╨╝ ╨╜╤â╨╢╨╜╨╛ ╨▓╨░╤ê╨╡ ╨┐╨╛╨┤╤é╨▓╨╡╤Ç╨╢╨┤╨╡╨╜╨╕╨╡",recording1:"╨ù╨░╨┐╨╕╤ü╤î ╨╜╨░╤ç╨╜╨╡╤é╤ü╤Å ╤é╨╛╨╗╤î╨║╨╛ ╨┐╨╛╤ü╨╗╨╡ ╨╜╨░╤ç╨░╨╗╨░ ╨╕╤ü╤ü╨╗╨╡╨┤╨╛╨▓╨░╨╜╨╕╤Å ╨╕ ╨╖╨░╨║╨╛╨╜╤ç╨╕╤é╤ü╤Å ╤ü╤Ç╨░╨╖╤â ╨┐╨╛╤ü╨╗╨╡. ╨ù╨░╨┐╨╕╤ü╤î ╨╖╨░ ╤Ç╨░╨╝╨║╨░╨╝╨╕ ╨╕╤ü╤ü╨╗╨╡╨┤╨╛╨▓╨░╨╜╨╕╤Å ╨╜╨╡ ╨▓╨╡╨┤╨╡╤é╤ü╤Å.",recording2:'╨¥╨░╨╢╨╝╨╕╤é╨╡ ╨║╨╜╨╛╨┐╨║╤â ╨▓╨╜╨╕╨╖╤â ╨┤╨╗╤Å ╤é╨╛╨│╨╛ ╤ç╤é╨╛╨▒╤ï ╤Ç╨░╨╖╤Ç╨╡╤ê╨╕╤é╤î ╨┤╨╛╤ü╤é╤â╨┐ ╨║ ╨╝╨╕╨║╤Ç╨╛╤ä╨╛╨╜╤â ╨╕ ╤ì╨║╤Ç╨░╨╜╤â. ╨ƒ╨╛╤ü╨╗╨╡ ╤ì╤é╨╛╨│╨╛ ╨┐╨╛╤Å╨▓╨╕╤é╤ü╤Å ╤â╨▓╨╡╨┤╨╛╨╝╨╗╨╡╨╜╨╕╨╡ ╨╛ ╨┤╨╛╤ü╤é╤â╨┐╨╡. ╨Æ╤ï╨▒╨╡╤Ç╨╕╤é╨╡ "╨ƒ╨╛╨┤╨╡╨╗╨╕╤é╤ü╤Å ╨▓╤ü╨╡╨╝ ╤ì╨║╤Ç╨░╨╜╨╛╨╝". ╨ƒ╨╛╤ü╨╗╨╡ ╤ì╤é╨╛╨│╨╛ ╨║╨╗╨╕╨║╨╜╨╕╤é╨╡ "╨ƒ╨╛╨┤╨╡╨╗╨╕╤é╤î╤ü╤Å" ╤ç╤é╨╛╨▒╤ï ╨┐╤Ç╨╛╨┤╨╛╨╗╨╢╨╕╤é╤î.',failed:"╨¥╨╡ ╤â╨┤╨░╨╗╨╛╤ü╤î ╨┐╨╛╨╗╤â╤ç╨╕╤é╤î ╨┤╨╛╤ü╤é╤â╨┐ ╨║ ╤ì╨║╤Ç╨░╨╜╤â ╨╕╨╗╨╕ ╨╖╨░╨┐╨╕╤ü╨╕ ╨╖╨▓╤â╨║╨░. ╨ƒ╤Ç╨╛╨▓╨╡╤Ç╤î╤é╨╡ ╨╜╨░╤ü╤é╤Ç╨╛╨╣╨║╨╕ ╨▒╤Ç╨░╤â╨╖╨╡╤Ç╨░ ╨╕ ╨┐╨╛╨┐╤Ç╨╛╨▒╤â╨╣╤é╨╡ ╨╡╨╡ ╤Ç╨░╨╖.",screenAccess:"╨ö╨░╤é╤î ╨┤╨╛╤ü╤é╤â╨┐ ╨║ ╤ì╨║╤Ç╨░╨╜╤â ╨╕ ╨╝╨╕╨║╤Ç╨╛╤ä╨╛╨╜╤â"},enText$5={needApproval:"We need your approval",recording1:"Recording will start when the study begins & stop as soon as you complete the study. No recording will occur outside of these times.",recording2:"Click the below button to allow this study to record your device's screen and microphone. A message directing you to select your screen will appear. Please choose to share Your Entire Screen. Once selected click 'share' to proceed.",failed:"Failed to start screen or audio recording. Please, check browser permissions and try again",screenAccess:"Yes, access my Screen and Voice"},localizedInterface$5=e=>"ru"===e?ruText$5:enText$5;function UTStart(){let{ut:t,dispatch:s}=l("ut"),n=localizedInterface$5(t.script.locale);return e("div",{className:styles.step,id:"usertests-step-start"},e("h1",null,n.needApproval),e("p",null,n.recording1),e("p",null,n.recording2),"failed"===t.recorderState&&e("p",null,e("strong",{},n.failed)),e(v,{title:n.screenAccess,processing:"starting"===t.recorderState,onClick:()=>s("ut/start")}))}let ruText$4={recordingStopped:"It appears that the recording has stopped.",recording1:"╨Æ╨░╤ê╨╡ ╤â╤ç╨░╤ü╤é╨╕╨╡ ╨▓ ╨╕╤ü╤ü╨╗╨╡╨┤╨╛╨▓╨░╨╜╨╕╨╕ ╨╜╨╡ ╨▒╤ï╨╗╨╛ ╨╖╨░╨┐╨╕╤ü╨░╨╜╨╛.",recording2:'╨ò╤ü╨╗╨╕ ╤ì╤é╨╛ ╨┐╤Ç╨╛╨╕╨╖╨╛╤ê╨╗╨╛ ╨┐╨╛ ╨╛╤ê╨╕╨▒╨║╨╡ ╨╕ ╨▓╤ï ╤à╨╛╤é╨╕╤é╨╡ ╨┐╤Ç╨╛╨┤╨╛╨╗╨╢╨╕╤é╤î ╨▓╨░╤ê╨╡ ╤â╤ç╨░╤ü╤é╨╕╨╡ ╨╜╨░╨╢╨╝╨╕╤é╨╡ ╨║╨╜╨╛╨┐╨║╤â "╨¥╨░╤ç╨░╤é╤î ╨╖╨░╨╜╨╛╨▓╨╛".',failed:"╨¥╨╡ ╤â╨┤╨░╨╗╨╛╤ü╤î ╨┐╨╛╨╗╤â╤ç╨╕╤é╤î ╨┤╨╛╤ü╤é╤â╨┐ ╨║ ╤ì╨║╤Ç╨░╨╜╤â ╨╕╨╗╨╕ ╨╖╨░╨┐╨╕╤ü╨╕ ╨╖╨▓╤â╨║╨░. ╨ƒ╤Ç╨╛╨▓╨╡╤Ç╤î╤é╨╡ ╨╜╨░╤ü╤é╤Ç╨╛╨╣╨║╨╕ ╨▒╤Ç╨░╤â╨╖╨╡╤Ç╨░ ╨╕ ╨┐╨╛╨┐╤Ç╨╛╨▒╤â╨╣╤é╨╡ ╨╡╨╡ ╤Ç╨░╨╖.",restart:"╨¥╨░╤ç╨░╤é╤î ╨╖╨░╨╜╨╛╨▓╨╛"},enText$4={recordingStopped:"It appears that the recording has stopped.",recording1:"Your participation has not been recorded.",recording2:"If this was a mistake and you wish to participate, click the restart button to start the study again.",failed:"Failed to start screen or audio recording. Please, check browser permissions and try again",restart:"Restart"},localizedInterface$4=e=>"ru"===e?ruText$4:enText$4;function UTRestart(){let{ut:t,dispatch:s}=l("ut"),n=localizedInterface$4(t.script.locale);return e("div",{className:styles.step,id:"usertests-step-restart"},e("h1",null,n.recordingStopped),e("p",null,n.recording1),e("p",null,n.recording2),"failed"===t.recorderState&&e("p",null,e("strong",{},n.failed)),e(v,{title:n.restart,processing:"starting"===t.recorderState,onClick:()=>s("ut/start")}))}let ruText$3={answerFinal:"╨ƒ╨╛╨╢╨░╨╗╤â╨╣╤ü╤é╨░ ╨╛╤é╨▓╨╡╤é╤î╤é╨╡ ╨╜╨░ ╨┐╨╛╤ü╨╗╨╡╨┤╨╜╨╕╨╡ ╨▓╨╛╨┐╤Ç╨╛╤ü╤ï",impove:"╨Ü╨░╨║ ╤ü╨░╨╣╤é ╨╝╨╛╨╢╨╡╤é ╤ü╤é╨░╤é╤î ╨╡╤ë╨╡ ╨╗╤â╤ç╤ê╨╡?",proceed:"╨ƒ╤Ç╨╛╨┤╨╛╨╗╨╢╨╕╤é╤î",answeredAloud:"╨» ╨╛╤é╨▓╨╡╤é╨╕╨╗ ╨▓╤ü╨╗╤â╤à"},enText$3={answerFinal:"Please answer final questions",impove:"How can we improve?",proceed:"Proceed",answeredAloud:"I answered aloud"},localizedInterface$3=e=>"ru"===e?ruText$3:enText$3;function UTSurvey(){let{dispatch:t,ut:s}=l("ut"),n=localizedInterface$3(s.script.locale),r=s.steps[c]||0,a=r<s.script.survey.length?{stage:c,step:r+1}:{stage:u},o=0===r?s.script.surveyIntro||n.answerFinal:s.script.survey[r-1]||n.impove,[i,d]=o.split("##");return e("div",{className:styles.step,id:"usertests-step-survey"},i&&e("h1",null,i),d&&e("p",null,d),e("button",{className:styles.button,onClick:()=>t("ut/stage",a)},0===r?n.proceed:n.answeredAloud))}let ruText$2={youSure:"╨Æ╤ï ╤â╨▓╨╡╤Ç╨╡╨╜╤ï?",cancelStudy:"╨Æ╤ï ╨┤╨╡╨╣╤ü╤é╨▓╨╕╤é╨╡╨╗╤î╨╜╨╛ ╤à╨╛╤é╨╕╤é╨╡ ╨┐╤Ç╨╡╤Ç╨▓╨░╤é╤î ╨╕╤ü╤ü╨╗╨╡╨┤╨╛╨▓╨░╨╜╨╕╨╡?",no:"╨¥╨╡╤é, ╨┐╤Ç╨╛╨┤╨╛╨╗╨╢╨╕╤é╤î",yes:"╨ö╨░"},enText$2={youSure:"Are you sure?",cancelStudy:"Do you want to cancel the study?",no:"No, continue",yes:"Yes"},localizedInterface$2=e=>"ru"===e?ruText$2:enText$2;function UTTerminate(t){let{locale:s,onCancel:n,onConfirm:r}=t,a=localizedInterface$2(s);return e("div",{className:styles.step,id:"usertests-step-terminate"},e("h1",null,a.youSure),e("p",{className:styles.center},a.cancelStudy),e("button",{className:styles.optional,onClick:r},a.yes),e("button",{className:styles.button,onClick:n},a.no))}let ruText$1={title:"╨æ╨░╨│ ╤Ç╨╡╨┐╨╛╤Ç╤é",button:"╨ƒ╤Ç╨╛╨┤╨╛╨╗╨╢╨╕╤é╤î"},enText$1={title:"Report a bug or suggest a feature",button:"Start"},localizedInterface$1=e=>"ru"===e?ruText$1:enText$1;function UTFeedbackStart(){let{ut:t,dispatch:s}=l("ut","user"),n=localizedInterface$1(t.script.locale);return e("div",{className:styles.step,id:"usertests-step-feedback"},e("h1",{className:styles.headerAlone},n.title),e("button",{className:styles.button,onClick:()=>s("ut/stage",{stage:h})},n.button))}let ruText={cancel:"╨ù╨░╨║╨╛╨╜╤ç╨╕╤é╤î ╨╕╤ü╤ü╨╗╨╡╨┤╨╛╨▓╨░╨╜╨╕╨╡"},enText={cancel:"Cancel the study"},localizedInterface=e=>"ru"===e?ruText:enText;function getStageComponent(e){switch(e){case o:return null;case w:return UTIntro;case d:return UTQuestions;case h:return UTStart;case b:return UTRestart;case p:return UTFarewellNotChosen;case $:return UTEmailRequest;case i:return UTInstructions;case c:return UTSurvey;case u:return UTFarewell;case g:return UTFeedbackStart;default:return null}}function canClose(e){switch(e){case p:case u:return!1;default:return!0}}function UTRecorder(){let{ut:t,dispatch:s}=l("ut"),r=n(()=>{t.isHidden&&s("ut/hide",!1),T()},[s,t.isHidden]),a=n(e=>{e.stopPropagation(),e.preventDefault(),s("ut/hide",!t.isHidden)},[t.isHidden,s]),i=t.stage;if(i===o)return;let c=getStageComponent(t.stage),u=t.script?t.script.locale:"en",d=localizedInterface(u);return e("div",{className:t.isHidden?styles.paneHidden:styles.pane,id:"usertest-recorder",onClick:r},!t.isClosing&&!t.isHidden&&canClose(t.stage)&&e("button",{className:styles.close,id:"ut-close",onClick:()=>s("ut/close",!0)},d.cancel),t.isClosing?e(UTTerminate,{locale:u,onCancel:()=>s("ut/close",!1),onConfirm:()=>s("ut/terminate")}):c&&e(c,{toggle:a,isHidden:t.isHidden}))}export{UTRecorder as default};
