import{l as e,g as t}from"./index.b0563877.js";import"./preact.272910a2.js";function a(){return!1}async function i(a,i){let{meta:{songId:n,partId:r,current:p},player:{speed:s}}=a.get();if(s===i||!p)return;let c=t(s)!==t(i);try{c&&a.dispatch("player/suspend","speed"),a.dispatch("player/changeSpeed",{speed:i}),c&&-1!==n&&-1!==r&&await e(a,n,r,p.revisionId)}finally{let d=a.get();c&&d.meta.current&&t(i)===t(d.player.speed)&&n===d.meta.songId&&r===d.meta.partId&&p.revisionId===d.meta.current.revisionId&&a.dispatch("player/resume","speed")}}async function n(e,t){e.get().player.pitchShift!==t&&e.dispatch("player/changePitch",t)}async function r(t,a){let{meta:{current:i,songId:n,partId:r},player:{type:p,audio:s}}=t.get();if(p===a||!i)return;let c=!("mute"===a&&s.hasSingleTrack);try{t.dispatch("player/suspend","type"),t.dispatch("player/changeType",{type:a}),c&&-1!==n&&-1!==r&&await e(t,n,r,i.revisionId)}finally{let d=t.get();d.meta.current&&a===d.player.type&&n===d.meta.songId&&r===d.meta.partId&&i.revisionId===d.meta.current.revisionId&&t.dispatch("player/resume","type")}}async function p(e){e.dispatch("player/toggleLoop")}export{a as demo,n as plusChangePitch,i as plusChangeSpeed,r as plusChangeType,p as plusToggleLoop}