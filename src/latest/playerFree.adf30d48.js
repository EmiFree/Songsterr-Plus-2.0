import{l as e}from"./index.e8b15340.js";import"./preact.bf58aca5.js";async function plusRestoreDefaults(t){t.dispatch("player/suspend","defaults");let{player:a}=t.get(),p=!1;if(0!==a.position.loopEnd&&t.dispatch("player/toggleLoop"),"focus"!==a.type&&(t.dispatch("player/changeType",{type:"focus"}),p=!0),100!==a.speed&&(t.dispatch("player/changeSpeed",{speed:100}),p=!0),0!==a.pitchShift&&t.dispatch("player/changePitch",0),a.isCountin&&t.dispatch("player/toggleCountIn"),a.isMetronome&&t.dispatch("player/toggleMetronome"),t.dispatch("player/changeMetronome:init","regular"),p){let{meta:{current:s,songId:i,partId:r}}=t.get();-1!==i&&-1!==r&&s&&await e(t,i,r,s.revisionId);let o=t.get().meta;if(o.songId!==i||o.partId!==r||!o.current||!s||o.current.revisionId!==s.revisionId)return}t.dispatch("player/resume","defaults")}export{plusRestoreDefaults};
