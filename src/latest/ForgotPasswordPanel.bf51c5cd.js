import{d as e,e as t,a as s}from"./preact.bf58aca5.js";import{w as a,R as o,bQ as r,k as i,Q as n,f as l,T as u}from"./index.e8b15340.js";import{A as c}from"./ActionButton.45f3bd1f.js";import{I as m}from"./Input.bba300bf.js";import{g as p}from"./user.b43c7f25.js";import{P as d}from"./Panel.98ba2c65.js";import{C as h,S as f}from"./ContinueLink.9b697552.js";import{_ as g}from"./GenericPanel.module.67ac8ae5.js";var de=null,es=null,fr={translations:{"":{Cancel:["Annuler"],"Click here to continue":["Cliquez ici pour continuer"],"Forgot your password?":["Mot de passe oubli\xe9?"],"Please enter the email address you use to sign\xa0in to\xa0your\xa0account.":["Veuillez entrer lΓÇÖadresse e-mail que vous utilisez pour vous connecter \xe0 votre compte."],Submit:["Soumettre"],"We've sent instructions to ":["Nous avons envoy\xe9 des instructions \xe0 "]}},language:"fr",pluralForms:"nplurals=2; plural=(n > 1);"},it=null,ja=null,ko=null,pt=null,ru=null,zh=null,locales=[de,es,fr,it,ja,ko,pt,ru,zh];class ForgotPasswordPanel extends e{email=t();constructor(e){super(e),this.state={error:null,email:"",processing:!1,next:!1}}handleSubmit=async e=>{e.preventDefault();let t=this.email.current;try{o([{field:t,validator:r}]),this.setState({processing:!0,error:null}),await p(t.value),this.props.dispatch("user/forgotPassword"),this.setState({processing:!1,error:null,next:!0,email:t.value})}catch(s){this.setState({processing:!1,error:s})}};render(){let{gettext:e}=i(locales),t=s(f,{key:"form",className:g.section,"data-section":"forgot"},s("h4",{className:g.title},e("Please enter the email address you use to sign\xa0in to\xa0your\xa0account.")),s("form",{noValidate:!0,onSubmit:this.handleSubmit,action:""},s(n,{error:this.state.error}),s(m,{ref:this.email,type:"email",name:"email",label:e("Email"),autocomplete:"email",error:this.state.error}),s("div",{className:g.actions},s(c,{title:e("Submit"),processing:this.state.processing}),s(h,{href:"/a/wa/signin",className:l.buttonLinkFloat},e("Cancel"))))),a=s(f,{key:"done",className:g.section,"data-section":"done"},s("h4",{className:g.title},e("We've sent instructions to "),this.state.email),s(h,{href:"/a/wa/signin"},e("Click here to continue"))),o=this.state.next?a:t;return s(d,{title:e("Forgot your password?"),id:this.props.id},s(u,null,o))}}var ForgotPasswordPanel$1=a(ForgotPasswordPanel);export{ForgotPasswordPanel$1 as default};
