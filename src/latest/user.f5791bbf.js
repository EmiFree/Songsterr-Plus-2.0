import{p as a,h as t,f as i,E as e,V as s,c as n,F as o,G as r,g as u,e as w}from"./audio.1ae45449.js";import{bE as c,bF as p}from"./index.9148933a.js";let REVISION_REPORTS={errors:"It introduced new mistakes in the tab",tracks:"It removed some instruments",glitches:"It has problems with audio/display",version:"I've got used to a previous revision",other:"Other reasons"};async function apiSignup(e,s,n){let o=u("/auth/signup"),r=await c("signup"),w=await a(o,{name:e,email:s,password:n},{"X-Recaptcha-Token":r});return await t(w,"signup"),await i(w),p(await w.json())}async function apiSignin(s,n){let o=u("/auth/signin"),r=await c("signin"),w=await a(o,{email:s,password:n},{"X-Recaptcha-Token":r});return await t(w,"signin"),await e(w,"Invalid email or password"),await i(w),p(await w.json())}async function apiSignout(){let t=u("/auth/signout"),i=await a(t);if(401===i.status||403===i.status)throw new s({__all__:"You already signed out. Please refresh page"});n(i)}async function apiGoogleSignin(a){let t=u(`/auth/google-token?id_token=${a}`),s=await w(t);await e(s,"Invalid email or password"),await i(s);let n=p(await s.json()),o=201===s.status;return{profile:n,isCreated:o}}async function apiProfileUpdate(t,e){let s=u("/auth/change"),o=await a(s,{name:t,email:e});return await i(o),n(o),p(await o.json())}async function apiChangePassword(t){let e=u("/auth/change"),s=await a(e,{password:t});return await i(s),n(s),p(await s.json())}async function apiForgotPassword(t){let e=u("/auth/password/forgot"),s=await a(e,{email:t});return await i(s),n(s),s.json()}async function apiRecoverPassword(t,i){let e=u("/auth/password/recover"),s=await a(e,{key:t,password:i});return await o(s),n(s),p(await s.json())}async function apiDeactivate(){let t=u("/auth/deactivate"),i=await a(t);if(403===i.status)throw Error("You already signed out. Please refresh page");return n(i),i.json()}async function sendFeedback(t){let i=u("/feedback/web"),e=await c("feedback"),s=await a(i,t,{"X-Recaptcha-Token":e});return await r(s),n(s),s}async function submitRevisionReport(t,i){let e=u(`/api/revision/${t.revisionId}/report`),s=await a(e,t);return i.aborted?null:(n(s),s)}export{REVISION_REPORTS as R,apiSignin as a,apiGoogleSignin as b,apiDeactivate as c,apiSignup as d,apiProfileUpdate as e,apiSignout as f,apiForgotPassword as g,apiRecoverPassword as h,apiChangePassword as i,submitRevisionReport as j,sendFeedback as s};