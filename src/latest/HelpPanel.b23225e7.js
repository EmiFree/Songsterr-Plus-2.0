import{g as e,F as t,y as a,_ as r,i as s,m as o,v as i,A as n}from"./preact.f8a34c73.js";import{u as l,W as c,bJ as m,L as d,p,bH as u,J as h,bI as f,V as g,_ as b,T as v}from"./index.3637aaf7.js";import{w as y}from"./Panel.4e04b14d.js";import{a as w,t as N}from"./TocPointer.dd2db91f.js";import{r as z,c as j}from"./SearchBox.b79cb4b8.js";import{o as x,c as B}from"./ContinueLink.d187aeb8.js";import{f as k,l as C,m as E,v as I,x as O}from"./FormError.ba736668.js";import{d as q}from"./Input.4b13d914.js";import{n as S}from"./ActionButton.e7edc72b.js";import{g as A}from"./user.804c31aa.js";import{o as L}from"./GenericPanel.module.38dde225.js";import{s as P}from"./SWW.de6faff6.js";function W(){u();const{meta:e,user:t,experiments:a,device:r}=l("meta","user","experiments","device"),{isLoggedIn:c,profile:m}=t,d=h(e.current,e.partId,e.revisionId),[p,y]=o({error:null,next:!1,processing:!1}),w=s(),N=s(),z=s(),j=p.error,W=n((async e=>{e.preventDefault();let t="",s="",o="";try{const i=[];if(c)s=m.name,t=m.email;else{const e=w.current;e&&(i.push({field:e,validator:k}),s=e.value);const a=N.current;a&&(i.push({field:a,validator:C}),t=a.value)}const n=z.current;n&&(i.push({field:n,validator:E}),o=n.value),I(i),y({error:null,processing:!0,next:!1});const l={page:f(d),productName:"SRW","Operating System":r.os,DeviceType:r.type,Useragent:window.navigator&&window.navigator.userAgent,"Sentry Last Event Id":P()};try{const e=window.amplitude.getInstance().options.deviceId;l.Amplitude=`https://analytics.amplitude.com/demax-inc/project/308889/search/${e}`}catch(e){}l.Plan=c?m.plan:"FREE";for(const e in a)Object.prototype.hasOwnProperty.call(a,e)&&(l[`Experiment: ${e}`]=a[e]);if(!(await A({name:s,subject:"message from website",email:t,message:o,properties:l})).ok)return void y({error:new g({summary:"Something Went Wrong, please try again later"}),processing:!1,next:!1});y({processing:!1,error:null,next:!0})}catch(e){y({error:e,processing:!1,next:!1})}}),[c,m,d]),H=p.next?i(B,{key:"done",className:"Cvxkr Cvx2pl","data-section":"done"},i("h4",{className:L.title},"Thanks for reaching out!"),i("h5",{className:L.subtitle},"We will get back to you soon"),i(x,null)):i(B,{key:"help",className:"Cvxkr Cvxvy","data-section":"form"},i("h2",{className:"Cvxas",id:"contact-us"},"Have not found the answer? Write to us!"),i("form",{noValidate:!0,onSubmit:W},i(O,{error:j}),i(q,{ref:w,name:"name",type:"name",label:"Name",placeholder:"Name",defaultValue:c?m.name:"",autocomplete:"name",readonly:c,error:j}),i(q,{ref:N,name:"email",type:"email",label:"Email",defaultValue:c?m.email:"",placeholder:"Email",autocomplete:"email",readonly:c,error:j}),i(q,{ref:z,type:"textarea",name:"summary",label:"Questions",placeholder:"How can we help you?",error:j}),i("div",{className:"Cvx23s"},i(S,{title:"Send",processing:p.processing}),i(x,{className:b.buttonLinkFloat},"Cancel"))));return i(v,null,H)}const H=(e,t)=>"string"==typeof e?t.test(e):Array.isArray(e)?e.some((e=>H(e,t))):!(!e.props||!e.props.children)&&H(e.props.children,t);function F(e,t,a){if(void 0===a)return[];function r(a){if(null===a)return"";if(Array.isArray(a))return a.map((e=>r(e)));if("string"==typeof a)return a;if(a.tag){let o={};if("a"===a.tag){var s;if(null!==(s=a.attrs.href)&&void 0!==s&&s.includes("ut:")){const[,s]=a.attrs.href.split(":");return i("a",Object.assign({},a.attrs,{onClick:a=>{a.preventDefault(),e("navigate",t),e("ut/feedbackLoad",s)}}),r(a.children))}if(a.attrs.href&&(a.attrs.href.endsWith("/?redesign=off")||"_blank"===a.attrs.target))return i("a",Object.assign({},a.attrs),r(a.children));if(a.attrs.href&&a.attrs.href.startsWith("/"))return i(d,Object.assign({},a.attrs),r(a.children));o={rel:"noopener noreferrer",target:"_blank"}}return i(`${a.tag}`,Object.assign({},a.attrs,o),r(a.children))}}return a&&a.map((e=>Object.assign({},e,{records:e.records.map((e=>Object.assign({},e,{answer:e.answer.map((e=>r(e)))})))})))}var T=e((e=>{const{device:{isPhone:n},songUrl:u,id:h}=e,{faq:{content:f,isLoading:g,isError:b},dispatch:v}=l("faq"),x=t(c);a((()=>{m(x)}),[]);const B=r((()=>F(v,u,f)),[f,u,v]),k=s(),C=s(),[E,I]=o(B[0]&&B[0].id),[O,q]=o(null),[S,A]=o(""),L=r((()=>{if(S.length){const e=new RegExp(S.replace(/[^\w\d ]/gi,"").split(" ").filter((e=>e)).map((e=>e.trim())).join("|"),"i");return B.map((t=>{const a=t.records.filter((t=>e.test(t.question)||H(t.answer,e)));return a.length>0?Object.assign({},t,{records:a}):null})).filter(Boolean)}return B}),[B,S]),P=r((()=>L.length&&L.every((e=>e.id!==E))?L[0].id:E),[L,E]);a((()=>{if(B.length){const e=window.location.hash&&window.location.hash.replace("#","");if(e){const t=document.getElementById(`anchor-${e}`);if(t){t.scrollIntoView({behavior:"smooth"}),t.parentElement.classList.add("blink");const e=setTimeout((()=>{t&&t.parentElement&&t.parentElement.classList.remove("blink")}),2e3);return()=>clearTimeout(e)}}}}),[L,O]);const T=L.length&&L.find((e=>e.id===P)).records.length-L.length,V=!n&&T>0&&`margin-bottom:${25*T}px`;return i(y,{title:"FAQ",id:h},N("toc"),!b&&i("div",{className:"Bz21vo",onClick:()=>window.location.hash="toc"},i(z,{className:j.staticSearch,value:S,setValue:A,isDesktop:!0,loading:g,inputRef:C,placeholder:"How can we help?"})),g&&i(p,{id:"faq-loader",fill:"#777",width:35,height:35,style:{margin:"30px auto"}}),w("HelpPanel","#toc"),function(){return i("div",{className:"C4l1mr"},i("a",{href:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#contact-us",className:"C4l19e"},i("svg",{width:54,height:54,viewBox:"0 0 54 54","aria-labelledby":"help-contact-us"},i("defs",null,i("filter",{id:"contact_shadow",width:"200%",height:"200%",x:"-50%",y:"-50%"},i("feGaussianBlur",{stdDeviation:2.1468,in:"SourceGraphic"}),i("feOffset",{dy:2,result:"contacta"}),i("feFlood",{"flood-color":"#000000","flood-opacity":.15}),i("feComposite",{in2:"contacta",operator:"in",result:"contactb"}),i("feBlend",{in:"SourceGraphic",in2:"contactb",mode:"normal"}))),i("title",{id:"help-contact-us"},"Contact Us"),i("circle",{cx:27,cy:27,r:20,filter:"url(#contact_shadow)"}),i("path",{className:"C4l2er",d:"M36.1 18.5H17.8c-1.2 0-2 .8-2 2v13.1c0 1.1.8 1.9 2 1.9h18.3c1.2 0 2.1-.8 2.1-1.9V20.5c0-1.2-.9-2-2.1-2zm-.1 1.3l-9 8.9-9-8.9h18zM17.1 33.3V20.7l6.3 6.3-6.3 6.3zm.9.9l6.3-6.3 2.2 2.2c.3.3.8.3 1 0l2.1-2.2 6.4 6.3H18zm18.8-.9L30.6 27l6.2-6.3v12.6z","fill-width":2}))))}("#contact-us"),L.length>0&&i("nav",{className:"Bz21sk",id:"faq-toc"},i("ul",{className:"Bz28b",ref:k,style:V},i("li",{className:"Bz24n"},i(d,{to:"/a/wa/howtoreadtab","data-link":"how to read tab",className:"Bz22jo"},"How to Read a Tab")),L.map((e=>{return i("li",{className:(t=e,n&&S||P===t.id?"Bz24n Bz22rv":"Bz24n"),id:e.id},i("button",{onClick:()=>I(e.id)},e.section),i("ul",{className:"Bz2za",style:V?"display:block; padding: 0;":""},e.records.map((e=>i("li",{className:"Bz21uz"},i("a",{href:"#"+e.id,onClick:()=>q(e.id)},e.question))))));var t})))),i("section",{"data-section":"qa",className:"Bz21zt",itemscope:!0,itemtype:"https://schema.org/FAQPage"},L.map((e=>i("article",{className:"Bz21bp"},i("h2",{className:"Bz2135"},i("span",null,e.section)),i("ul",null,e.records.map((e=>i("li",{className:"Bz22tj",itemscope:!0,itemprop:"mainEntity",itemtype:"https://schema.org/Question"},i("a",{className:"Bz22oj",id:`anchor-${e.id}`},e.id),i("h3",{className:"Bz2pe",itemprop:"name"},e.question),i("div",{className:"Bz22vj",itemscope:!0,itemprop:"acceptedAnswer",itemtype:"https://schema.org/Answer"},i("div",{itemprop:"text"},e.answer),"How to use the Tab corrector?"===e.question&&i("img",{src:"/static/media/tabEditor.07aa7297.png",width:390,height:174,loading:"lazy",alt:"Markup demo",itemprop:"image",itemscope:!0,itemtype:"https://schema.org/ImageObject"}),"Can I organize my Favorites into playlists? "===e.question&&i("img",{src:"/static/media/playlist.e607c3e1.gif",width:463,height:246,loading:"lazy",alt:"Playlist demo",itemprop:"image",itemscope:!0,itemtype:"https://schema.org/ImageObject"}))))))))),!b&&!g&&!L.length&&i("div",{className:"Bz2bg",id:"faq-noanswers"},"No answers found"),b&&i("div",{id:"faq-network-error",className:"Bz2bg"},"Sorry, but there are some problems with network.",i("br",{}),"Please, try to reload page")),i(W,null))}));export{T as default};
//# sourceMappingURL=HelpPanel.b23225e7.js.map
