import{l as e}from"./audio.1ae45449.js";async function plusRestoreDefaults(t){t.dispatch("player/suspend","defaults");let{player:a,cursor:p}=t.get(),s=!1;if(0!==p.position.loopEnd&&t.dispatch("player/toggleLoop"),"focus"!==a.type&&(t.dispatch("player/changeType",{type:"focus"}),s=!0),100!==a.speed&&(t.dispatch("player/changeSpeed",{speed:100}),s=!0),0!==a.pitchShift&&t.dispatch("player/changePitch",0),a.isCountin&&t.dispatch("player/toggleCountIn"),a.isMetronome&&t.dispatch("player/toggleMetronome"),t.dispatch("player/changeMetronome:init","regular"),s){let{meta:{current:a,songId:p,partId:s}}=t.get();-1!==p&&-1!==s&&a&&await e(t,p,s,a.revisionId);let i=t.get().meta;if(i.songId!==p||i.partId!==s||!i.current||!a||i.current.revisionId!==a.revisionId)return}t.dispatch("player/resume","defaults")}export{plusRestoreDefaults};
