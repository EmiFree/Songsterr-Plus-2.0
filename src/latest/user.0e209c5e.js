import{bV as a,bW as t,bX as i,bY as e,bZ as s,b_ as n,bT as o,b$ as r,c0 as u,c1 as c,c2 as w,c3 as p}from"./index.c64a48b4.js";let REVISION_REPORTS={errors:"It introduced new mistakes in the tab",tracks:"It removed some instruments",glitches:"It has problems with audio/display",version:"I've got used to a previous revision",other:"Other reasons"};async function apiSignup(n,o,r){let u=w("/auth/signup"),c=await a("signup"),p=await t(u,{name:n,email:o,password:r},{"X-Recaptcha-Token":c});return await i(p,"signup"),await e(p),s(await p.json())}async function apiSignin(o,r){let u=w("/auth/signin"),c=await a("signin"),p=await t(u,{email:o,password:r},{"X-Recaptcha-Token":c});return await i(p,"signin"),await n(p,"Invalid email or password"),await e(p),s(await p.json())}async function apiSignout(){let a=w("/auth/signout"),i=await t(a);if(401===i.status||403===i.status)throw new o({__all__:"You already signed out. Please refresh page"});r(i)}async function apiGoogleSignin(a){let t=w(`/auth/google-token?id_token=${a}`),i=await p(t);await n(i,"Invalid email or password"),await e(i);let o=s(await i.json()),r=201===i.status;return{profile:o,isCreated:r}}async function apiProfileUpdate(a,i){let n=w("/auth/change"),o=await t(n,{name:a,email:i});return await e(o),r(o),s(await o.json())}async function apiChangePassword(a){let i=w("/auth/change"),n=await t(i,{password:a});return await e(n),r(n),s(await n.json())}async function apiForgotPassword(a){let i=w("/auth/password/forgot"),s=await t(i,{email:a});return await e(s),r(s),s.json()}async function apiRecoverPassword(a,i){let e=w("/auth/password/recover"),n=await t(e,{key:a,password:i});return await u(n),r(n),s(await n.json())}async function apiDeactivate(){let a=w("/auth/deactivate"),i=await t(a);if(403===i.status)throw Error("You already signed out. Please refresh page");return r(i),i.json()}async function sendFeedback(i){let e=w("/feedback/web"),s=await a("feedback"),n=await t(e,i,{"X-Recaptcha-Token":s});return await c(n),r(n),n}async function submitRevisionReport(a,i){let e=w(`/api/revision/${a.revisionId}/report`),s=await t(e,a);return i.aborted?null:(r(s),s)}export{REVISION_REPORTS as R,apiSignin as a,apiGoogleSignin as b,apiDeactivate as c,apiSignup as d,apiProfileUpdate as e,apiSignout as f,apiForgotPassword as g,apiRecoverPassword as h,apiChangePassword as i,submitRevisionReport as j,sendFeedback as s};
