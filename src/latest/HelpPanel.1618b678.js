import{a as e,p as t,_ as a,T as s,R as i,q as l,h as n,F as o}from"./preact.3d326435.js";import{j as r,bx as c,u as m,bh as u,by as d,bz as p,bA as f,M as h,bB as g,bC as y,K as b,f as z,T as w,S as v,bD as B,L as k,g as j}from"./index.9148933a.js";import{P as $}from"./Panel.1b182ff5.js";import{T as N,a as x}from"./TocPointer.14f74b88.js";import{S as _,s as T}from"./SearchBox.94e72d54.js";import{C as q,S as C}from"./ContinueLink.e8f06f76.js";import{I as I}from"./Input.bee63c02.js";import{A as A}from"./ActionButton.02df805a.js";import{s as F}from"./user.f5791bbf.js";import{_ as E}from"./GenericPanel.module.67ac8ae5.js";import{a as S,V as P}from"./audio.1ae45449.js";import{g as W}from"./SWW.1ac5d8c8.js";import"./env.1ef38fce.js";let top="C4l1mr",link="C4l19e",icon="C4l2er",__default$2={top:"C4l1mr",link:"C4l19e",icon:"C4l2er"},ContactUsPointer=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#contact-us";return e("div",{className:__default$2.top},e("a",{href:t,className:__default$2.link},e("svg",{width:54,height:54,viewBox:"0 0 54 54","aria-labelledby":"help-contact-us"},e("defs",null,e("filter",{id:"contact_shadow",width:"200%",height:"200%",x:"-50%",y:"-50%"},e("feGaussianBlur",{stdDeviation:2.1468,in:"SourceGraphic"}),e("feOffset",{dy:2,result:"contacta"}),e("feFlood",{floodColor:"#000000",floodOpacity:.15}),e("feComposite",{in2:"contacta",operator:"in",result:"contactb"}),e("feBlend",{in:"SourceGraphic",in2:"contactb",mode:"normal"}))),e("title",{id:"help-contact-us"},"Contact Us"),e("circle",{cx:27,cy:27,r:20,filter:"url(#contact_shadow)"}),e("path",{className:__default$2.icon,d:"M36.1 18.5H17.8c-1.2 0-2 .8-2 2v13.1c0 1.1.8 1.9 2 1.9h18.3c1.2 0 2.1-.8 2.1-1.9V20.5c0-1.2-.9-2-2.1-2zm-.1 1.3l-9 8.9-9-8.9h18zM17.1 33.3V20.7l6.3 6.3-6.3 6.3zm.9.9l6.3-6.3 2.2 2.2c.3.3.8.3 1 0l2.1-2.2 6.4 6.3H18zm18.8-.9L30.6 27l6.2-6.3v12.6z","fill-width":2}))))},title="f725y",section$1="f71pg",sectionFeedbackLine="f71pg f72za",sectionDone="f71pg f71ae",actions="f712u",__default$1={title:"f725y",section:"f71pg",sectionFeedbackLine:"f71pg f72za",sectionDone:"f71pg f71ae",actions:"f712u"};var de$1=null,es$1=null,fr$1=null,it$1=null,ja$1=null,ko$1=null,pt$1=null,ru$1=null,zh$1=null,locales$1=[de$1,es$1,fr$1,it$1,ja$1,ko$1,pt$1,ru$1,zh$1];function FeedbackForm(){let{locale:i,gettext:l}=r(locales$1);c();let{dispatch:n,meta:o,user:v,experiments:B,device:k,store:j}=m("meta","user","experiments","device"),{isLoggedIn:$,profile:N}=v,x=u(o.current,o.partId,o.revisionId),[_,T]=t({error:null,next:!1,processing:!1}),L=a(),H=a(),Q=a(),D=_.error,R=s(async e=>{e.preventDefault();let t="",a="",s="";try{let e=[];if($)a=N.name,t=N.email;else{let s=L.current;s&&(e.push({field:s,validator:d}),a=s.value);let i=H.current;i&&(e.push({field:i,validator:p}),t=i.value)}let o=Q.current;o&&(e.push({field:o,validator:f}),s=o.value),h(e),T({error:null,processing:!0,next:!1});let r={page:g(x),productName:"SRW","Operating System":k.os.name,DeviceType:k.type,Useragent:window.navigator&&window.navigator.userAgent,"Sentry Last Event Id":W(),Locale:i};try{let{getDeviceId:e}=await y(j.get());r.Amplitude=`https://analytics.amplitude.com/demax-inc/project/308889/search/${e()}`}catch(e){}for(let e in r.Plan=$?N.plan:S.FREE,Object.keys(B))B[e]?.status==="active"&&(r[`Experiment: ${e}`]=B[e]?.segment);let c=await F({name:a,subject:"message from website",email:t,message:s,properties:r});if(!c.ok){T({error:new P({summary:l("Something Went Wrong, please try again later")}),processing:!1,next:!1});return}n("curiosity/event",{event:"Submitted feedback form"}),T({processing:!1,error:null,next:!0})}catch(e){T({error:e,processing:!1,next:!1})}},[$,N,x]),V=_.next?e(C,{key:"done",className:__default$1.sectionDone,"data-section":"done"},e("h4",{className:E.title},l("Thanks for reaching out!")),e("h5",{className:E.subtitle},l("We will get back to you soon")),e(q,{},l("Close"))):e(C,{key:"help",className:__default$1.sectionFeedbackLine,"data-section":"form"},e("h2",{className:__default$1.title,id:"contact-us"},l("Have\xa0not\xa0found the\xa0answer? Write\xa0to\xa0us!")),e("form",{noValidate:!0,onSubmit:R},e(b,{error:D}),e(I,{ref:L,name:"name",type:"name",label:l("Name"),placeholder:l("Name"),defaultValue:$?N.name:"",autocomplete:"name",readonly:$,error:D}),e(I,{ref:H,name:"email",type:"email",label:l("Email"),defaultValue:$?N.email:"",placeholder:l("Email"),autocomplete:"email",readonly:$,error:D}),e(I,{ref:Q,type:"textarea",name:"summary",label:l("Questions"),placeholder:l("How can we help you?"),error:D}),e("div",{className:__default$1.actions},e(A,{title:l("Send"),processing:_.processing}),e(q,{className:z.buttonLinkFloat},l("Cancel")))));return e(w,null,V)}var tabEditorImage="/static/media/tabEditor.50842f03.png",fingeringsImage="/static/media/fingerings.1d631b5e.png",playlistImage="/static/media/playlist.c527eaca.gif";let navigation="Bz21sk",section="Bz21zt",searchWrapper="Bz21vo",question="Bz22tj",questions="Bz21bp",bluredQuestions="Bz21bp Bz23j",chosenQuestion="Bz22tj Bz2da",sectionTitle="Bz2135",noAnswers="Bz2bg",questionTitle="Bz2pe",message="Bz22vj",menu="Bz28b",item="Bz24n",submenu="Bz2za",chosenItem="Bz24n Bz22rv",subitem="Bz21uz",anchor="Bz22oj",howToReadTab="Bz22jo",__default={navigation:"Bz21sk",section:"Bz21zt",searchWrapper:"Bz21vo",question:"Bz22tj",questions:"Bz21bp",bluredQuestions:"Bz21bp Bz23j",chosenQuestion:"Bz22tj Bz2da",sectionTitle:"Bz2135",noAnswers:"Bz2bg",questionTitle:"Bz2pe",message:"Bz22vj",menu:"Bz28b",item:"Bz24n",submenu:"Bz2za",chosenItem:"Bz24n Bz22rv",subitem:"Bz21uz",anchor:"Bz22oj",howToReadTab:"Bz22jo"};var styles=__default,de=null,es=null,fr=null,it=null,ja=null,ko=null,pt=null,ru=null,zh=null,locales=[de,es,fr,it,ja,ko,pt,ru,zh];let containsText=(e,t)=>"string"==typeof e?t.test(e):Array.isArray(e)?e.some(e=>containsText(e,t)):!!e.props&&!!e.props.children&&containsText(e.props.children,t);function processFAQ(t,a,s){return void 0===s?[]:s&&s.map(s=>({...s,records:s.records.map(s=>({...s,answer:s.answer.map(s=>(function s(i){if(null===i)return"";if(Array.isArray(i))return i.map(e=>s(e));if("string"==typeof i)return i;if(i.tag){let l={};if("a"===i.tag){if(i.attrs.href?.includes("ut:")){let[,l]=i.attrs.href.split(":");return e("a",{...i.attrs,onClick:e=>{e.preventDefault(),t("navigate",a),t("ut/feedbackLoad",l)}},s(i.children))}if(i.attrs.href&&(i.attrs.href.endsWith("/?redesign=off")||"_blank"===i.attrs.target))return e("a",{...i.attrs},s(i.children));if(i.attrs.href&&i.attrs.href.startsWith("/"))return e(k,{...i.attrs},s(i.children));l={rel:"noopener noreferrer",target:"_blank"}}return e(`${i.tag}`,{...i.attrs,...l},s(i.children))}})(s))}))}))}var HelpPanel=i(s=>{let{device:{isPhone:i},songUrl:c,id:u}=s,{faq:{content:d,isLoading:p,isError:f},dispatch:h}=m("faq"),g=l(v),{gettext:y}=r(locales);n(()=>{B(g)},[]);let b=o(()=>processFAQ(h,c,d),[d,c,h]),z=a(),w=a(),[q,C]=t(b[0]&&b[0].id),[I,A]=t(null),[F,E]=t(""),S=o(()=>{if(F.length){let e=RegExp(F.replace(/[^\w\d ]/ig,"").split(" ").filter(e=>e).map(e=>e.trim()).join("|"),"i");return b.map(t=>{let a=t.records.filter(t=>e.test(t.question)||containsText(t.answer,e));return a.length>0?{...t,records:a}:null}).filter(Boolean)}return b},[b,F]),P=o(()=>S.length&&S.every(e=>e.id!==q)?S[0].id:q,[S,q]);n(()=>{if(b.length){let e=window.location.hash&&window.location.hash.replace("#","");if(e){let t=document.getElementById(`anchor-${e}`);if(t){t.scrollIntoView({behavior:"smooth"}),t.parentElement.classList.add("blink");let e=setTimeout(()=>{t&&t.parentElement&&t.parentElement.classList.remove("blink")},2e3);return()=>clearTimeout(e)}}}},[S,I]);let W=e=>i&&F?styles.chosenItem:P===e.id?styles.chosenItem:styles.item,L=S.length&&S.find(e=>e.id===P).records.length-S.length,H=!i&&L>0&&`margin-bottom:${25*L}px`;return e($,{title:y("FAQ"),id:u},x("toc"),!f&&e("div",{className:styles.searchWrapper,onClick:()=>window.location.hash="toc"},e(_,{className:T.staticSearch,value:F,setValue:E,isDesktop:!0,loading:p,inputRef:w,placeholder:y("How can we help?")})),p&&e(j,{id:"faq-loader",fill:"#777",width:35,height:35,style:{margin:"30px auto"}}),N("HelpPanel","#toc"),ContactUsPointer("#contact-us"),S.length>0&&e("nav",{className:styles.navigation,id:"faq-toc"},e("ul",{className:styles.menu,ref:z,style:H},e("li",{className:styles.item},e(k,{to:"/a/wa/howtoreadtab","data-link":"how to read tab",className:styles.howToReadTab},y("How to Read a Tab"))),S.map(t=>e("li",{className:W(t),id:t.id},e("button",{onClick:()=>C(t.id)},t.section),e("ul",{className:styles.submenu,style:`${H?"display:block; padding: 0;":""}`},t.records.map(t=>e("li",{className:styles.subitem},e("a",{href:"#"+t.id,onClick:()=>A(t.id)},t.question)))))))),e("section",{"data-section":"qa",className:styles.section,itemscope:!0,itemtype:"https://schema.org/FAQPage"},S.map(t=>e("article",{className:styles.questions},e("h2",{className:styles.sectionTitle},e("span",null,t.section)),e("ul",null,t.records.map(t=>e("li",{className:styles.question,itemscope:!0,itemprop:"mainEntity",itemtype:"https://schema.org/Question"},e("a",{className:styles.anchor,id:`anchor-${t.id}`},t.id),e("h3",{className:styles.questionTitle,itemprop:"name"},t.question),e("div",{className:styles.message,itemscope:!0,itemprop:"acceptedAnswer",itemtype:"https://schema.org/Answer"},e("div",{itemProp:"text"},t.answer),"How to use the Tab editor?"===t.question&&e("img",{src:tabEditorImage,width:390,height:174,loading:"lazy",alt:"Markup demo",itemprop:"image",itemscope:!0,itemtype:"https://schema.org/ImageObject"}),'What is the "Guitar Fingering" beta?'===t.question&&e("img",{src:fingeringsImage,width:485,height:120,loading:"lazy",alt:"Fingerings demo",itemprop:"image",itemscope:!0,itemtype:"https://schema.org/ImageObject"}),"Can I organize my Favorites into playlists? "===t.question&&e("img",{src:playlistImage,width:463,height:246,loading:"lazy",alt:"Playlist demo",itemprop:"image",itemscope:!0,itemtype:"https://schema.org/ImageObject"}))))))),!f&&!p&&!S.length&&e("div",{className:styles.noAnswers,id:"faq-noanswers"},y("No answers found")),f&&e("div",{id:"faq-network-error",className:styles.noAnswers},y("Sorry, but there are some problems with network."),e("br",{}),y("Please, try to reload page"))),e(FeedbackForm,null))});export{HelpPanel as default};
