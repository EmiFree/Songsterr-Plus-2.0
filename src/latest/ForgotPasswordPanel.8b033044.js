import{d as e,e as t,a as s}from"./preact.3d326435.js";import{w as a,R as r,bO as o,k as n,Q as i,f as l,T as u}from"./index.c64a48b4.js";import{A as c}from"./ActionButton.3cab06c5.js";import{I as m}from"./Input.33ac2f73.js";import{g as d}from"./user.0e209c5e.js";import{P as p}from"./Panel.7e25754f.js";import{C as h,S as g}from"./ContinueLink.2fedf097.js";import{_ as f}from"./GenericPanel.module.67ac8ae5.js";var de={translations:{"":{Cancel:["Abbrechen"],"Click here to continue":["Klicken Sie hier, um fortzufahren"],Email:["Email"],"Forgot your password?":["Passwort vergessen?"],"Please enter the email address you use to sign\xa0in to\xa0your\xa0account.":["Bitte geben Sie die E-Mail-Adresse ein, mit der Sie sich bei\xa0Ihrem\xa0Konto\xa0angemeldet haben."],Submit:["Senden"],"We've sent instructions to ":["Wir haben Anweisungen gesendet an "]}},language:"de",pluralForms:"nplurals=2; plural=(n != 1);"},es=null,fr={translations:{"":{Cancel:["Annuler"],"Click here to continue":["Cliquez ici pour continuer"],"Forgot your password?":["Mot de passe oubli\xe9?"],"Please enter the email address you use to sign\xa0in to\xa0your\xa0account.":["Veuillez entrer lΓÇÖadresse e-mail que vous utilisez pour vous connecter \xe0 votre compte."],Submit:["Soumettre"],"We've sent instructions to ":["Nous avons envoy\xe9 des instructions \xe0 "]}},language:"fr",pluralForms:"nplurals=2; plural=(n > 1);"},it=null,ja=null,ko=null,pt=null,ru=null,zh=null,locales=[de,es,fr,it,ja,ko,pt,ru,zh];class ForgotPasswordPanel extends e{email=t();constructor(e){super(e),this.state={error:null,email:"",processing:!1,next:!1}}handleSubmit=async e=>{e.preventDefault();let t=this.email.current;try{r([{field:t,validator:o}]),this.setState({processing:!0,error:null}),await d(t.value),this.props.dispatch("user/forgotPassword"),this.setState({processing:!1,error:null,next:!0,email:t.value})}catch(e){this.setState({processing:!1,error:e})}};render(){let{gettext:e}=n(locales),t=s(g,{key:"form",className:f.section,"data-section":"forgot"},s("h4",{className:f.title},e("Please enter the email address you use to sign\xa0in to\xa0your\xa0account.")),s("form",{noValidate:!0,onSubmit:this.handleSubmit,action:""},s(i,{error:this.state.error}),s(m,{ref:this.email,type:"email",name:"email",label:e("Email"),autocomplete:"email",error:this.state.error}),s("div",{className:f.actions},s(c,{title:e("Submit"),processing:this.state.processing}),s(h,{href:"/a/wa/signin",className:l.buttonLinkFloat},e("Cancel"))))),a=s(g,{key:"done",className:f.section,"data-section":"done"},s("h4",{className:f.title},e("We've sent instructions to "),this.state.email),s(h,{href:"/a/wa/signin"},e("Click here to continue"))),r=this.state.next?a:t;return s(p,{title:e("Forgot your password?"),id:this.props.id},s(u,null,r))}}var ForgotPasswordPanel$1=a(ForgotPasswordPanel);export{ForgotPasswordPanel$1 as default};
