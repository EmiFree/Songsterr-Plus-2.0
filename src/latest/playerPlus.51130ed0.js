import{l as e,g as t}from"./index.c64a48b4.js";import"./preact.3d326435.js";function demo(){return!1}async function plusChangeSpeed(a,p){let{meta:{songId:r,partId:n,current:s},player:{speed:i}}=a.get();if(i===p||!s)return;let l=t(i)!==t(p);try{l&&a.dispatch("player/suspend","speed"),a.dispatch("player/changeSpeed",{speed:p}),l&&-1!==r&&-1!==n&&await e(a,r,n,s.revisionId)}finally{let e=a.get();l&&e.meta.current&&t(p)===t(e.player.speed)&&r===e.meta.songId&&n===e.meta.partId&&s.revisionId===e.meta.current.revisionId&&a.dispatch("player/resume","speed")}}async function plusChangePitch(e,t){e.get().player.pitchShift!==t&&e.dispatch("player/changePitch",t)}async function plusChangeType(t,a){let{meta:{current:p,songId:r,partId:n},player:{type:s,audio:i}}=t.get();if(s===a||!p)return;let l=!("mute"===a&&i?.hasSingleTrack);try{t.dispatch("player/suspend","type"),t.dispatch("player/changeType",{type:a}),l&&-1!==r&&-1!==n&&await e(t,r,n,p.revisionId)}finally{let e=t.get();e.meta.current&&a===e.player.type&&r===e.meta.songId&&n===e.meta.partId&&p.revisionId===e.meta.current.revisionId&&t.dispatch("player/resume","type")}}async function plusToggleLoop(e){e.dispatch("player/toggleLoop")}export{demo,plusChangePitch,plusChangeSpeed,plusChangeType,plusToggleLoop};
