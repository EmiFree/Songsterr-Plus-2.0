import{_ as e,f as t,R as a,p as r,T as l,h as n}from"./preact.272910a2.js";import{g as s,F as i,a as o,v as u}from"./FormError.15baa318.js";import{a as f}from"./Input.d3dc4ead.js";import{a as p,bI as d}from"./index.b0563877.js";function m(){for(var a=arguments.length,r=Array(a),l=0;l<a;l++)r[l]=arguments[l];let n=e();return t(()=>{r.forEach(e=>{e&&("function"==typeof e?e(n.current):e.current=n.current)})},[r]),n}let c="Bor2lc",v="Bor2lc Bor1vf",g="Bor21p",h="Bore7",y="Bor1iu",N="Bor2h9",E="Bor96",$=p+" Bor32q",b=d+" Borei",k="Bor2cy",L="Bor18n",D="Bor1xx",T="Bor1je",F="Bor1n1",I={field:"Bor2lc",popupField:"Bor2lc Bor1vf",hint:"Bor21p",file:"Bore7",input:"Bor1iu",readonly:"Bor2h9",popupInput:"Bor96",button:p+" Bor32q",buttonBlue:d+" Borei",layer:"Bor2cy",inner:"Bor18n",label:"Bor1xx",svgColor:"Bor1je",svgStroke:"Bor1n1"},P=a((a,p)=>{let{id:d,label:c,name:v,error:g,errorStyles:h,accept:y,popup:N,isDropFileAvailable:E,isNewFormats:$}=a,[b,k]=r(null),L=l(e=>{let t=e.target.files.length?e.target.files[0].name:null;k(t)},[]),[D,T]=r(null),[F,P]=r(null),C=m(p,e(null));E&&t(()=>{let e=0,t=e=>{e.preventDefault(),e.stopPropagation()},a=t=>{t.preventDefault(),t.stopPropagation(),e++,t.dataTransfer.items&&t.dataTransfer.items.length>0&&T(!0)},r=t=>{t.preventDefault(),t.stopPropagation(),--e>0||T(!1)},l=t=>{t.preventDefault(),t.stopPropagation(),T(!1),t.dataTransfer.files&&t.dataTransfer.files.length>0&&(n(t.dataTransfer.files),t.dataTransfer.clearData(),e=0)},n=e=>{try{C.current.files=e;let t=o($);u([{field:C.current,validator:t}]),P(null),k(e[0].name),C.current.files=e}catch(a){P(a),k(null),C.current.files=null}};return window.addEventListener("dragenter",a),window.addEventListener("dragleave",r),window.addEventListener("dragover",t),window.addEventListener("drop",l),()=>{window.removeEventListener("dragenter",a),window.removeEventListener("dragleave",r),window.removeEventListener("dragover",t),window.removeEventListener("drop",l)}},[]);let S=s(F||g,v),w=n("span",{className:N?I.popupInput:I.readonly,"data-info":"filename"},b),x=n("span",{className:N?I.buttonBlue:I.button,"data-info":"button"},`${N?"Upload":"Choose"} your .gp5 file`);return n("label",{className:N?I.popupField:I.field,"data-input":v},N?n(i,{styles:h,errorMessage:S,name:v}):c&&n("div",{className:I.hint,"data-label":v},c),n("input",{id:d,accept:y,name:v,type:"file",ref:C,onChange:L,className:I.file}),D&&n("div",{className:I.layer,"data-id":d},n("div",{className:I.inner},n("svg",{width:"188",height:"100",fill:"none"},n("path",{className:I.svgStroke,strokeWidth:"4",strokeDasharray:"8 8",d:"M2 2h104v24H82v48H2V2z"}),n("mask",{id:"a",maskUnits:"userSpaceOnUse",x:"80",y:"24",width:"108",height:"76"},n("path",{fill:"#fff",d:"M186 24H82a2 2 0 00-2 2v72c0 1.1.9 2 2 2h104a2 2 0 002-2V26a2 2 0 00-2-2z"})),n("g",{mask:"url(#a)"},n("path",{className:I.svgStroke,strokeWidth:"8",d:"M186 24H82a2 2 0 00-2 2v72c0 1.1.9 2 2 2h104a2 2 0 002-2V26a2 2 0 00-2-2z"}),n("path",{className:I.svgColor,d:"M132.02 77H135.98V63.74H149.06V60.2H135.98V46.94H132.02V60.2H118.94V63.74H132.02V77Z"}))),n("div",{className:I.label},"Drop GuitarPro file here"))),!N&&n(f,{name:v,errorMessage:S}),b?w:x)});export{P as F}